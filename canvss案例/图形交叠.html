<!DOCTYPE html>
<html>
<head>
	<title>合成</title>
</head>
<body>
	<canvas id="myCanvas1" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas2" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas3" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas4" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas5" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas6" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas7" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas8" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas9" width="400" height="400" style="border: 2px solid white"></canvas>
	<canvas id="myCanvas10" width="400" height="400" style="border: 2px solid white"></canvas>


<script>
	var ctx;
function draw(){
    var canvas = document.getElementById('myCanvas1');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";//填充绘画的颜色
    ctx.fillRect(0, 0, 200, 200);//绘制“已填色”的矩形,context.fillRect(x,y,width,height);
 
    ctx.globalCompositeOperation = "source-over"; //全局合成操作
    ctx.fillStyle = "red";//填充绘画的颜色
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas2');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
   //source-in------仅仅会出现新图像与原来图像重叠的部分，其他区域都变成透明的。(包括其他的老图像区域也会透明)
    ctx.globalCompositeOperation = "source-in"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
   function draw(){
    var canvas = document.getElementById('myCanvas3');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //source-atop---------新图像仅仅显示与老图像重叠区域。老图像仍然可以显示
    ctx.globalCompositeOperation = "source-atop"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas4');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //destination-over-------新图像会在老图像的下面
    ctx.globalCompositeOperation = "destination-over"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas5');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //destination-in------仅仅新老图像重叠部分的老图像被显示，其他区域全部透明。
    ctx.globalCompositeOperation = "destination-in"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas6');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //destination-out------仅仅老图像与新图像没有重叠的部分。 注意显示的是老图像的部分区域。
    ctx.globalCompositeOperation = "destination-out"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas7');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
   //destination-atop------老图像仅仅仅仅显示重叠部分，新图像会显示在老图像的下面。
    ctx.globalCompositeOperation = "destination-atop"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
function draw(){
    var canvas = document.getElementById('myCanvas8');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //lighter-------新老图像都显示，但是重叠区域的颜色做加处理。
    ctx.globalCompositeOperation = "lighter";
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas9');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //darken-----保留重叠部分最黑的像素。(每个颜色位进行比较，得到最小的)
    ctx.globalCompositeOperation = "darken"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>

<script>
	var ctx;
    function draw(){
    var canvas = document.getElementById('myCanvas10');
    if (!canvas.getContext) return;
    var ctx = canvas.getContext("2d");
 
    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, 200, 200);
    //xor------重叠部分会变成透明
    ctx.globalCompositeOperation = "xor"; 
    ctx.fillStyle = "red";
    ctx.fillRect(100, 100, 200, 200);
}
draw();
</script>



</body>
</html>